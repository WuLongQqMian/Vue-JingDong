{"remainingRequest":"D:\\Work\\ProjectDemo\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Work\\ProjectDemo\\jingdong\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\ProjectDemo\\jingdong\\src\\store\\index.js","dependencies":[{"path":"D:\\Work\\ProjectDemo\\jingdong\\src\\store\\index.js","mtime":1648474875953},{"path":"D:\\Work\\ProjectDemo\\jingdong\\babel.config.js","mtime":1636889643917},{"path":"D:\\Work\\ProjectDemo\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\ProjectDemo\\jingdong\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Work\\ProjectDemo\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwoKdmFyIHNldExvY2FsQ2FydExpc3QgPSBmdW5jdGlvbiBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKSB7CiAgdmFyIGNhcnRMaXN0ID0gc3RhdGUuY2FydExpc3Q7CiAgdmFyIGNhcnRMaXN0U3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoY2FydExpc3QpOwogIGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCA9IGNhcnRMaXN0U3RyaW5nOwp9OwoKdmFyIGdldExvY2FsQ2FydExpc3QgPSBmdW5jdGlvbiBnZXRMb2NhbENhcnRMaXN0KCkgewogIHJldHVybiBsb2NhbFN0b3JhZ2UuY2FydExpc3QgJiYgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuY2FydExpc3QpIHx8IHt9Owp9OwoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBjYXJ0TGlzdDogZ2V0TG9jYWxDYXJ0TGlzdCgpIC8vIGNhcnRMaXN0OiB7fSwKICAgIC8vIHNob3BJZDogewogICAgLy8gc2hvcE5hbWU6ICfmsoPlsJTnjpsnLAogICAgLy8gcHJvZHVjdExpc3Q6ewogICAgLy8gICBwcm9kdWN0SWQ6IHsKICAgIC8vICAgICBfaWQ6ICcxJywKICAgIC8vICAgICBuYW1lOiAn55Wq6IyEMjUwZy/ku70nLAogICAgLy8gICAgIGltZ1VybDogJ2h0dHA6Ly93d3cuZGVsbC1sZWUuY29tL2ltZ3MvdnVlMy90b21hdG8ucG5nJywKICAgIC8vICAgICBzYWxlczogMTAsCiAgICAvLyAgICAgcHJpY2U6IDMzLjYsCiAgICAvLyAgICAgb2xkUHJpY2U6IDM5LjYsCiAgICAvLyAgICAgY291bnQ6IDIsCiAgICAvLyAgIH0sCiAgICAvLyB9CiAgICAvLyB9LAogICAgLy8gMjoge30sCgogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjaGFuZ2VDYXJ0SXRlbVRvQ2FydDogZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW1Ub0NhcnQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgcHJvZHVjdElkID0gcGF5bG9hZC5wcm9kdWN0SWQsCiAgICAgICAgICBwcm9kdWN0SW5mbyA9IHBheWxvYWQucHJvZHVjdEluZm8sCiAgICAgICAgICBudW0gPSBwYXlsb2FkLm51bTsKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXSB8fCB7CiAgICAgICAgc2hvcE5hbWU6ICcnLAogICAgICAgIHByb2R1Y3RMaXN0OiB7fQogICAgICB9OwogICAgICB2YXIgcHJvZHVjdCA9IHNob3BJbmZvLnByb2R1Y3RMaXN0W3Byb2R1Y3RJZF07CgogICAgICBpZiAoIXByb2R1Y3QpIHsKICAgICAgICBwcm9kdWN0SW5mby5jb3VudCA9IDA7CiAgICAgICAgcHJvZHVjdCA9IHByb2R1Y3RJbmZvOwogICAgICB9CgogICAgICBwcm9kdWN0LmNvdW50ICs9IG51bTsKCiAgICAgIGlmIChudW0gPiAwKSB7CiAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChwcm9kdWN0LmNvdW50IDwgMCkgewogICAgICAgIHByb2R1Y3QuY291bnQgPSAwOwogICAgICB9CgogICAgICBzaG9wSW5mby5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdID0gcHJvZHVjdDsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXSA9IHNob3BJbmZvOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICBjaGFuZ2VTaG9wTmFtZTogZnVuY3Rpb24gY2hhbmdlU2hvcE5hbWUoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgc2hvcE5hbWUgPSBwYXlsb2FkLnNob3BOYW1lOwogICAgICB2YXIgc2hvcEluZm8gPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdIHx8IHsKICAgICAgICBzaG9wTmFtZTogJycsCiAgICAgICAgcHJvZHVjdExpc3Q6IHt9CiAgICAgIH07CiAgICAgIHNob3BJbmZvLnNob3BOYW1lID0gc2hvcE5hbWU7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gPSBzaG9wSW5mbzsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2hhbmdlQ2FydEl0ZW1DaGVja2VkOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0SXRlbUNoZWNrZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgcHJvZHVjdElkID0gcGF5bG9hZC5wcm9kdWN0SWQ7CiAgICAgIHZhciBwcm9kdWN0ID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdOwogICAgICBwcm9kdWN0LmNoZWNrID0gIXByb2R1Y3QuY2hlY2s7CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIGNsZWFuQ2FydFByb2R1Y3RzOiBmdW5jdGlvbiBjbGVhbkNhcnRQcm9kdWN0cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQ7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3QgPSB7fTsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgc2V0Q2FydEl0ZW1zQ2hlY2tlZDogZnVuY3Rpb24gc2V0Q2FydEl0ZW1zQ2hlY2tlZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQ7CiAgICAgIHZhciBwcm9kdWN0cyA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3Q7CgogICAgICBpZiAocHJvZHVjdHMpIHsKICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvZHVjdHMpIHsKICAgICAgICAgIHZhciBwcm9kdWN0ID0gcHJvZHVjdHNba2V5XTsKICAgICAgICAgIHByb2R1Y3QuY2hlY2sgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7fSwKICBtb2R1bGVzOiB7fQp9KTs="},{"version":3,"sources":["D:/Work/ProjectDemo/jingdong/src/store/index.js"],"names":["createStore","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocalCartList","parse","mutations","changeCartItemToCart","payload","shopId","productId","productInfo","num","shopInfo","shopName","productList","product","count","check","changeShopName","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","products","key","actions","modules"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\n\nconst setLocalCartList = (state) => {\n  const { cartList } = state\n  const cartListString = JSON.stringify(cartList)\n  localStorage.cartList = cartListString\n}\n\nconst getLocalCartList = () => {\n  return (localStorage.cartList && JSON.parse(localStorage.cartList)) || {}\n}\n\nexport default createStore({\n  state: {\n    cartList: getLocalCartList(),\n    // cartList: {},\n    // shopId: {\n    // shopName: '沃尔玛',\n    // productList:{\n    //   productId: {\n    //     _id: '1',\n    //     name: '番茄250g/份',\n    //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n    //     sales: 10,\n    //     price: 33.6,\n    //     oldPrice: 39.6,\n    //     count: 2,\n    //   },\n    // }\n    // },\n    // 2: {},\n  },\n  mutations: {\n    changeCartItemToCart(state, payload) {\n      const { shopId, productId, productInfo, num } = payload\n      let shopInfo = state.cartList[shopId] || {\n        shopName: '',\n        productList: {},\n      }\n      let product = shopInfo.productList[productId]\n      if (!product) {\n        productInfo.count = 0\n        product = productInfo\n      }\n      product.count += num\n      if (num > 0) {\n        product.check = true\n      }\n      if (product.count < 0) {\n        product.count = 0\n      }\n      shopInfo.productList[productId] = product\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)\n    },\n    changeShopName(state, payload) {\n      const { shopId, shopName } = payload\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '',\n        productList: {},\n      }\n      shopInfo.shopName = shopName\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)\n    },\n    changeCartItemChecked(state, payload) {\n      const { shopId, productId } = payload\n      const product = state.cartList[shopId].productList[productId]\n      product.check = !product.check\n      setLocalCartList(state)\n    },\n    cleanCartProducts(state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId].productList = {}\n      setLocalCartList(state)\n    },\n    setCartItemsChecked(state, payload) {\n      const { shopId } = payload\n      const products = state.cartList[shopId].productList\n      if (products) {\n        for (let key in products) {\n          const product = products[key]\n          product.check = true\n        }\n      }\n      setLocalCartList(state)\n    },\n  },\n  actions: {},\n  modules: {},\n})\n"]}]}